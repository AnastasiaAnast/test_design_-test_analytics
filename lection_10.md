# Тестовое покрытие

- Что такое тестовое покрытие?
- Зачем и как оценивать тестовое покрытие?
- Создание и поддержка матрицы трассировки.
- Плюсы и минусы матрицы трассировки

**Тестовое покрытие** — метрика оценки качества тестирования, отражающая плотность покрытия тестами _требований_, _исполняемого кода_.

# Метрика покрытия кода - сколько кода покрыто проверками

Tcov = (Ltc/Lcode) x 100% где:

- Tcov – тестовое покрытие,
- Ltc – количество строк кода, покрытых тестами,
- Lcode – общее количество строк кода.

## SonarQube - инструмент

- Платформа для анализа кода, управления его качеством.
- Позволяет непрерывно анализировать код.
- Работает с множеством ЯП благодаря плагинам.

# Метрика покрытия требований

Tcov = (Lcov/Ltotal) x 100% где:

- Tcov – тестовое покрытие;
- Lcov – количество требований, проверяемых тест кейсами;
- Ltotal – общее количество требований.

# Алгоритм оценки покрытия:

1. Разделить (декомпозировать) требования на отдельные атомарные функции.
2. Для каждой ф-ии написать приёмочный критерий (тест-кейс?).
3. Для каждого критерия создать тестовый артефакт (метрика покрытий требований - при частом внесении изменений в требования, позволяет отслеживать покрытие всех изменений; выше % данной метрики - более качественное тестирование будет проведено).
4. Несколько атомарных требований могут быть покрыты одним тестом - объединить требования в одно.

# Матрица трассировки (traceability matrix) —

способ визуализации связей между элементами системы. Таблица, по горизонтали все требования на проекте, по вертикали - все написанные текст-кейсы

# Зачем нужна матрица трассировки?

- Визуализировать состояние реализации.
- Отслеживать пропуск реализации.
- Разбивать и структурировать требования.
- Отслеживать, покрыто ли требование тест-кейсом (пропуск тестирования): Действительно ли все т-к нужны? Если проверяют разные сценарии, не просто дублируют друг друга - требования не соответствуют атрибуту атомарности, нужно поделить на более мелкие кусочки
- Наглядно отображать приоритезацию требований.

# Этапы создания и ведения матрицы

1. Декомпозиция и приоритезация требований.
2. Постановка задач на разработку и внесение в матрицу к соответствующим требованиям.
3. Разработка тест-кейсов и чек-листов.
4. Заполнение матрицы тест-кейсами.
5. Поддержка матрицы в актуальном состоянии.

# Примеры

Матрица требований к мобильному устройству с соотношением статусов
![matrix1](/matrix1.png)

Матрица трассировки веб-приложения с разбиением по разделам
![matrix2](/matrix2.png)

Матрица трассировки веб-продукта по модулям с итерациями
![matrix3](/matrix3.png)

Матрица трассируемости интернет-магазина
![matrix4](/matrix4.png)

# Сложности в работе с матрицей

Матрица трассировки иногда может оказаться бесполезной/помешать рабочему процессу.

- Актуализация - если нет времени на поддержку актуализации - нужна ли матрица трассировки вообще? Еще перед созданием оценить наличие ресурсов для поддержания актуального состояния;
- Временные ресурсы;
- Эффективность

Если тест-кейсы составлены таким образом: 1тест-кейс - 1 требование - матрица трассировки не нужна

# Практическая польза

- Контроль реализации требований, отслеживание, что все требования разработаны и протестированы, ничего не пропущено.
- Помощь команде QA для отслеживания долга по тестовой документации.
- Контроль измененных требований.
- Реализация большей прозрачности процесса разработки и тестирования.
