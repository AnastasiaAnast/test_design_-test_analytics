# Тестирование по пользовательским сценариям

- Что такое сценарий использования (use case)?
- Составление тест-кейсов на основе пользовательских сценариев.

## Пользовательские сценарии/ сценарии использования/ Use Case

Сценарий, по которому пользователь взаимодействует с приложением / программой для выполнения действия / достижения цели.
Участники системы - больше, чем пользователь и приложение.
Пользователем может выступать и человек, и другая система.

Сценарии использования/ Use Case полезны:

- разработчикам (ветвистое требование описано при помощи основного и альтернативного потока событий - ветвистая логика разделена на пользовательские кейсы);
- заказчикам (требование описано человеческим языком и заказчик может либо согласиться, либо внести правки);
- тестировщикам (тестирования функциональности по пользовательским сценариям/ Use Case, особенно при текстовой форме представления, практически готовый тест-кейс; может проводиться как часть приёмочного тестирования).

## Формы сценариев использования/ Use Case:

- список шагов;
- таблица с основными, альтернативными сценариями;
- диаграмма вариантов использования;
- диаграмма классов.

## Пример: Use Case в виде списка шагов:

User story: Я как администратор хочу настраивать проектные роли через панель администратора.
Use case 1:

1. Как администратор системы, перехожу в раздел «Уровни доступа».
2. Создаю новую роль.
3. Выбираю уровень доступа для каждого пункта (по умолчанию уровень доступа — «запрещено»).
4. Сохраняю роль.
5. Роль доступна в списке проектных ролей.

## Пример: Use Case в виде диаграммы вариантов использования:

Концептуальное представление системы в процессе проектирования и разработки. Описывает какой функционал разрабатываемой программной системы доступен каждой группе пользователей.
Состоит из **актёров, вариантов использования, отношений между ними**.
**Актёр** (действующее лицо, актант, актор) — любой объект, субъект, система, взаимодействующая с моделируемой системой извне.
**Вариант использования** — **спецификация сервисов (функций)**, которые система предоставляет актёру. Диаграмма составляется в соответствии с нотацией UML.
Эти диаграммы составляет тот, кто описывает требования к системе (продакт/аналитик/заказчик/тех.писатель)

Актёра изображают в виде:

- человечка,
- произвольной иконки,
- класса с текстовым стереотипом «actor».

Вариант использования обозначается эллипсом с описанием внутри - имя ф-ии в форме глагола с пояснением. Описание обозначает выполнение какой-либо операции, действия. В терминологии UML эллипс - вариант использования, Use Case, набор действия, кот. может быть использован актером для взаимодействия с системой.

Отношения - соединительные линии. Связывают актеров и ф-ии. Разные виды линий используются под свои цели - см нотацию UML.

Администратор может управлять ролями: создавать, редактировать, удалять.

![Use_case_diagram](/Use_case_diagram.png)

## Составление тест-кейсов по пользовательским сценариям/ Use Case

Алгоритм составления тестов по use case

1. Определить, какие параметры влияют на выполнение каждого шага.
2. Выявить значения параметров с помощью техник тест-дизайна.
3. Скомпоновать параметры, представить в виде одного / нескольких тест-кейсов.

Пример составление тест-кейсов по сценарию: Use case 1

![access_levels](/access.png)

1. Как администратор системы, перехожу в раздел «Уровни доступа».
2. Создаю новую роль.
3. Выбираю уровень доступа для каждого пункта (по умолчанию уровень доступа — «запрещено»).
4. Сохраняю роль.
5. Роль доступна в списке проектных ролей.

![tests](/tests.png)

Из таблицы получаем тест-кейсы:

1. Успешное создание роли администратором.
2. Создание роли пользователем без прав администратора.
3. Создание роли с невалидным названием.
4. Изменение названия на невалидное.

Сначала проверяем позитивные сценарии, только потом - негативные.

ТК1
Название: успешное создание роли Администратором.
Предусловие: есть учётная запись пользователя с ролью Администратор.

![test-k1](/test-k1.png)

ТК2
Название: создание роли пользователем без прав Администратора.
Предусловие: есть две учётные записи с ролью Администратор.

![test-k2](/test-k2.png)

ТК3
Название: создание и редактирование роли с невалидным названием
Предусловие: есть учётная запись с ролью Администратор.

![test-k3](/test-k3.png)
